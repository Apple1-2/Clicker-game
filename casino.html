<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ö–∞–∑–∏–Ω–æ üé∞</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(to bottom, #1a1a1a, #333);
      color: #fff;
      text-align: center;
      margin: 0;
      padding: 20px;
    }

    h1 {
      margin-top: 0;
      font-size: 36px;
    }

    .score {
      font-size: 24px;
      margin-bottom: 20px;
    }

    .slot-machine, .wheel-container {
      margin: 30px auto;
      padding: 20px;
      background: #222;
      border-radius: 12px;
      max-width: 400px;
    }

    .reels {
      display: flex;
      justify-content: center;
      font-size: 40px;
      margin: 15px 0;
    }

    .reels span {
      margin: 0 10px;
    }

    button {
      padding: 10px 20px;
      font-size: 18px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      margin: 10px;
      transition: 0.3s;
    }

    button:hover {
      transform: scale(1.05);
    }

    .spin-button {
      background-color: #4caf50;
      color: white;
    }

    .wheel-button {
      background-color: #2196f3;
      color: white;
    }

    .back-button {
      background-color: #ff9800;
      color: white;
      position: fixed;
      top: 20px;
      left: 20px;
    }

    .result {
      font-weight: bold;
      margin-top: 10px;
    }

    /* Wheel of Fortune */
    .wheel-wrapper {
      position: relative;
      width: 300px;
      height: 300px;
      margin: 0 auto;
    }

    .wheel {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 8px solid #fff;
      position: relative;
      transition: transform 4s ease-out;
    }

    .wheel::before {
      content: "";
      position: absolute;
      top: -16px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 15px solid transparent;
      border-right: 15px solid transparent;
      border-bottom: 20px solid red;
      z-index: 10;
    }

    .wheel .segment {
      position: absolute;
      width: 50%;
      height: 50%;
      background: #444;
      transform-origin: 100% 100%;
      clip-path: polygon(100% 100%, 0% 100%, 100% 0%);
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h1>üé∞ –ö–∞–∑–∏–Ω–æ</h1>
  <button class="back-button" onclick="goBack()">‚¨Ö –ù–∞–∑–∞–¥</button>

  <div class="score">–û—á–∫–∏: <span id="points">0</span></div>

  <!-- –°–ª–æ—Ç-–º–∞—à–∏–Ω–∞ -->
  <div class="slot-machine">
    <h2>–°–ª–æ—Ç-–º–∞—à–∏–Ω–∞</h2>
    <div class="reels">
      <span id="r1">‚ùì</span>
      <span id="r2">‚ùì</span>
      <span id="r3">‚ùì</span>
    </div>
    <button class="spin-button" onclick="spinSlots()">–ö—Ä—É—Ç–∏—Ç—å (100 –æ—á–∫–æ–≤)</button>
    <div class="result" id="slotResult"></div>
  </div>

  <!-- –ö–æ–ª–µ—Å–æ —É–¥–∞—á–∏ -->
  <div class="wheel-container">
    <h2>–ö–æ–ª–µ—Å–æ —É–¥–∞—á–∏</h2>
    <div class="wheel-wrapper">
      <div class="wheel" id="wheel"></div>
    </div>
    <button class="wheel-button" onclick="spinWheel()">–ö—Ä—É—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ (150 –æ—á–∫–æ–≤)</button>
    <div class="result" id="wheelResult"></div>
  </div>

  <script>
    const symbols = ["üçí", "üçã", "üîî", "üíé", "üçÄ"];
    let points = 0;

    function loadPoints() {
      const save = JSON.parse(localStorage.getItem("clickerSave"));
      points = save?.points || 0;
      updatePointsDisplay();
    }

    function savePoints() {
      const save = JSON.parse(localStorage.getItem("clickerSave")) || {};
      save.points = points;
      localStorage.setItem("clickerSave", JSON.stringify(save));
    }

    function updatePointsDisplay() {
      document.getElementById("points").textContent = points;
    }

    function spinSlots() {
      if (points < 100) {
        alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—á–∫–æ–≤!");
        return;
      }
      points -= 100;

      const r1 = symbols[Math.floor(Math.random() * symbols.length)];
      const r2 = symbols[Math.floor(Math.random() * symbols.length)];
      const r3 = symbols[Math.floor(Math.random() * symbols.length)];

      document.getElementById("r1").textContent = r1;
      document.getElementById("r2").textContent = r2;
      document.getElementById("r3").textContent = r3;

      let resultText = "–ù–∏—á–µ–≥–æ –Ω–µ –≤—ã–∏–≥—Ä–∞–Ω–æ.";
      if (r1 === r2 && r2 === r3) {
        const win = 500;
        points += win;
        resultText = `üéâ –¢—Ä–∏ ${r1}! –í—ã–∏–≥—Ä—ã—à: ${win} –æ—á–∫–æ–≤`;
      } else if (r1 === r2 || r2 === r3 || r1 === r3) {
        const win = Math.floor(100 * 1.2);
        points += win;
        resultText = `‚ú® –î–≤–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è! –í—ã–∏–≥—Ä—ã—à: ${win} –æ—á–∫–æ–≤`;
      }

      document.getElementById("slotResult").textContent = resultText;
      updatePointsDisplay();
      savePoints();
    }

    // Wheel of Fortune
    const segments = [100, 200, 300, 0, 500, 50, 250, 0];
    const wheel = document.getElementById("wheel");

    // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
    function drawWheel() {
      const angle = 360 / segments.length;
      segments.forEach((val, i) => {
        const seg = document.createElement("div");
        seg.className = "segment";
        seg.style.transform = `rotate(${i * angle}deg)`;
        seg.textContent = val === 0 ? "–ü—É—Å—Ç–æ" : `+${val}`;
        seg.style.background = i % 2 === 0 ? "#3f51b5" : "#009688";
        wheel.appendChild(seg);
      });
    }

    let currentRotation = 0;

    function spinWheel() {
      if (points < 150) {
        alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—á–∫–æ–≤!");
        return;
      }
      points -= 150;

      const index = Math.floor(Math.random() * segments.length);
      const anglePerSegment = 360 / segments.length;
      const extraSpins = 5 * 360; // –ø–æ–ª–Ω—ã—Ö –æ–±–æ—Ä–æ—Ç–æ–≤
      const targetRotation = extraSpins + (360 - index * anglePerSegment);

      currentRotation += targetRotation;

      wheel.style.transform = `rotate(${currentRotation}deg)`;

      setTimeout(() => {
        const won = segments[index];
        let message = "–ù–∏—á–µ–≥–æ –Ω–µ –≤—ã–ø–∞–ª–æ.";
        if (won > 0) {
          points += won;
          message = `–í—ã–∏–≥—Ä—ã—à: ${won} –æ—á–∫–æ–≤ üéâ`;
        }
        document.getElementById("wheelResult").textContent = message;
        updatePointsDisplay();
        savePoints();
      }, 4200);
    }

        function goToMain() {
      window.location.href = "index.html"; // –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é –ª–æ–∫–∞—Ü–∏—é
    }

    drawWheel();
    loadPoints();
  </script>
</body>
</html>