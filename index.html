<: #45a049; }
  .message { margin-top: 20px; font-size: 18px; font-weight: bold; color: #333; }
  .shop-container { margin-top: 30px; }
  #shop { display: none; margin-top: 20px; padding: 20px; background: #eee; border-radius: 10px; max-width: 500px; margin-left: auto; margin-right: auto; }
  .shop-item { margin: 15px 0; }
  .progress-bar-container { width: 80%; height: 25px; background: #ccc; border-radius: 12px; margin: 20px auto; overflow: hidden; }
  .progress-bar { height: 100%; width: 0%; background: #4caf50; transition: width 0.3s; }
</style>
</head>
<body>

<header>
  <h1>Clicker Game + –ü—Ä–µ—Å—Ç–∏–∂</h1>
  <p>–ö–ª–∏–∫–∞–π, –ø–æ–∫—É–ø–∞–π, —É–ª—É—á—à–∞–π!</p>
</header>

<main>
  <div class="score">–û—á–∫–∏: <span id="points">0</span></div>
  
  <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
  <div class="progress-bar-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <button onclick="addPoint()">–ù–∞–∂–º–∏ –º–µ–Ω—è</button>
  <div class="message" id="message"></div>

  <div class="shop-container">
    <button onclick="toggleShop()">üõí –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω</button>
    <div id="shop"></div>
  </div>

  <div style="margin-top:30px;">
    <button onclick="resetGame()" style="background-color: crimson;">üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
  </div>
</main>

<footer>¬© 2025 | –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</footer>

<audio id="clickSound" src="https://www.fesliyanstudios.com/play-mp3/387" preload="auto"></audio>
<audio id="buySound" src="https://www.fesliyanstudios.com/play-mp3/362" preload="auto"></audio>

<script>
let score = 0;
let clickPower = 1000;
let prestige = 0;
const prestigeLevels = [10000, 25000]; // –æ—á–∫–∏ –¥–ª—è 1 –∏ 2 –ø—Ä–µ—Å—Ç–∏–∂–∞
const pointsEl = document.getElementById("points");
const messageEl = document.getElementById("message");
const progressBar = document.getElementById("progressBar");
const shopEl = document.getElementById("shop");

const clickUpgrades = [
  { title: "–ö–ª–∏–∫ x2", power: 2, cost: 50 },
  { title: "–ö–ª–∏–∫ x4", power: 4, cost: 150 },
  { title: "–ö–ª–∏–∫ x6", power: 6, cost: 400 },
  { title: "–ö–ª–∏–∫ x8", power: 8, cost: 850 },
  { title: "–ö–ª–∏–∫ x10", power: 10, cost: 1500 },
  { title: "–ö–ª–∏–∫ x12", power: 12, cost: 2500 },
  { title: "–ö–ª–∏–∫ x15", power: 15, cost: 4000 }
];

let upgrades = [...clickUpgrades];

function updateScore() {
  pointsEl.textContent = score;
  updateProgressBar();
  checkPrestige();
}

function message(text) { messageEl.textContent = text; }
function playSound(id) { const s=document.getElementById(id); if(s){ s.currentTime=0; s.play(); } }

function addPoint() {
  score += clickPower;
  updateScore();
  playSound("clickSound");
  renderShop();
  saveProgress();
}

function toggleShop() { shopEl.style.display = shopEl.style.display==="none"?"block":"none"; }

function buyUpgrade(index) {
  const item = upgrades[index];
  if (!item || score < item.cost) { message("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—á–∫–æ–≤."); return; }
  score -= item.cost;
  clickPower = item.power;
  message(`–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π –∫–ª–∏–∫: √ó${item.power}`);
  upgrades.splice(index,1);
  renderShop();
  updateScore();
  playSound("buySound");
  saveProgress();
}

function renderShop() {
  shopEl.innerHTML = "";
  upgrades.forEach((u,i)=>{
    const div = document.createElement("div");
    div.className = "shop-item";
    div.innerHTML = `<button onclick="buyUpgrade(${i})">${u.title} (${u.cost})</button>`;
    shopEl.appendChild(div);
  });
}

function resetGame() {
  if(confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å?")){
    localStorage.clear();
    location.reload();
  }
}

function saveProgress() {
  localStorage.setItem("clickerData", JSON.stringify({score, clickPower, prestige, upgrades}));
}

function loadProgress() {
  const saved = localStorage.getItem("clickerData");
  if(saved){
    const data=JSON.parse(saved);
    score=data.score||0;
    clickPower=data.clickPower||1;
    prestige=data.prestige||0;
    upgrades=data.upgrades||clickUpgrades;
  }
}

function updateProgressBar(){
  let max=prestige<prestigeLevels.length?prestigeLevels[prestige]:prestigeLevels[prestigeLevels.length-1];
  let percent = Math.min((score/max)*100,100);
  progressBar.style.width = percent + "%";
}

function checkPrestige(){
  if(prestige<prestigeLevels.length && score>=prestigeLevels[prestige]){
    if(confirm(`–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ ${prestigeLevels[prestige]} –æ—á–∫–æ–≤! –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–µ—Å—Ç–∏–∂?`)){
      prestige++;
      score=0;
      clickPower=1+prestige;
      upgrades=[...clickUpgrades];
      message(`–ü—Ä–µ—Å—Ç–∏–∂ ${prestige} –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –°—Ç–∞—Ä—Ç–æ–≤—ã–π –∫–ª–∏–∫: +${clickPower}`);
      updateScore();
      renderShop();
      saveProgress();
    }
  }
}

loadProgress();
renderShop();
updateScore();
</script>
</body>
</html>